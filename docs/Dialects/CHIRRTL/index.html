<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>'chirrtl' Dialect - CIRCT</title><meta name=description content="Circuit IR Compilers and Tools"><meta name=generator content="Hugo 0.101.0"><link href=https://circt.llvm.org/index.xml rel=alternate type=application/rss+xml><link rel=canonical href=https://circt.llvm.org/docs/Dialects/CHIRRTL/><link rel=stylesheet href=https://circt.llvm.org/css/theme.css><script src=https://use.fontawesome.com/releases/v5.0.6/js/all.js></script>
<link rel=stylesheet href=https://circt.llvm.org/css/chroma.min.css><script src=https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js></script>
<script src=https://circt.llvm.org/js/bundle.js></script>
<script type=text/javascript src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$', '$'] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
    }
  });
</script><style>:root{}</style></head><body><div class=container><header><h1><div><img src=https://circt.llvm.org//circt-logo.svg width=40px align=absmiddle>
CIRCT</div></h1><p class=description>Circuit IR Compilers and Tools</p></header><div class=global-menu><nav><ul><li class=parent><a href>Community<i class="fas fa-angle-right"></i></a><ul class=sub-menu><li class=child><a href=https://llvm.discourse.group/c/Projects-that-want-to-become-official-LLVM-Projects/circt/40>Forums</a></li><li class=child><a href=https://discord.gg/xS7Z362>Chat</a></li></ul></li><li class=parent><a href=https://github.com/llvm/circt/tree/main/>Source<i class="fas fa-angle-right"></i></a><ul class=sub-menu><li class=child><a href=/doxygen/>Doxygen</a></li><li class=child><a href=https://github.com/llvm/circt/tree/main/>GitHub</a></li></ul></li></ul></nav></div><div class=content-container><main><h1>'chirrtl' Dialect</h1><p>Types and operations for the chirrtl dialect
This dialect defines the <code>chirrtl</code> dialect, which contains high-level
memory defintions which can be lowered to FIRRTL.</p><p><nav id=TableOfContents><ul><li><a href=#operation-definition>Operation definition</a><ul><li><a href=#chirrtlcombmem-circtchirrtlcombmemop><code>chirrtl.combmem</code> (::circt::chirrtl::CombMemOp)</a></li><li><a href=#chirrtlmemoryportaccess-circtchirrtlmemoryportaccessop><code>chirrtl.memoryport.access</code> (::circt::chirrtl::MemoryPortAccessOp)</a></li><li><a href=#chirrtlmemoryport-circtchirrtlmemoryportop><code>chirrtl.memoryport</code> (::circt::chirrtl::MemoryPortOp)</a></li><li><a href=#chirrtlseqmem-circtchirrtlseqmemop><code>chirrtl.seqmem</code> (::circt::chirrtl::SeqMemOp)</a></li></ul></li><li><a href=#type-definition>Type definition</a><ul><li><a href=#cmemoryporttype>CMemoryPortType</a></li><li><a href=#cmemorytype>CMemoryType</a></li></ul></li></ul></nav><h2 id=operation-definition>Operation definition&nbsp;<a class=headline-hash href=#operation-definition>¶</a></h2><h3 id=chirrtlcombmem-circtchirrtlcombmemop><code>chirrtl.combmem</code> (::circt::chirrtl::CombMemOp)&nbsp;<a class=headline-hash href=#chirrtlcombmem-circtchirrtlcombmemop>¶</a></h3><p>Define a new combinational memory</p><p>Syntax:</p><pre tabindex=0><code>operation ::= `chirrtl.combmem` (`sym` $inner_sym^)? custom&lt;NameKind&gt;($nameKind)
              custom&lt;CombMemOp&gt;(attr-dict) `:` qualified(type($result))
</code></pre><p>Define a new behavioral combinational memory. Combinational memories have a
write latency of 1 and a read latency of 0.</p><p>Interfaces: FNamableOp, HasCustomSSAName</p><h4 id=attributes>Attributes:&nbsp;<a class=headline-hash href=#attributes>¶</a></h4><table><thead><tr><th style=text-align:center>Attribute</th><th style=text-align:center>MLIR Type</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>name</code></td><td style=text-align:center>::mlir::StringAttr</td><td>string attribute</td></tr><tr><td style=text-align:center><code>nameKind</code></td><td style=text-align:center>::circt::firrtl::NameKindEnumAttr</td><td>name kind</td></tr><tr><td style=text-align:center><code>annotations</code></td><td style=text-align:center>::mlir::ArrayAttr</td><td>Annotation array attribute</td></tr><tr><td style=text-align:center><code>inner_sym</code></td><td style=text-align:center>::circt::firrtl::InnerSymAttr</td><td>Inner symbol definition</td></tr></tbody></table><h4 id=results>Results:&nbsp;<a class=headline-hash href=#results>¶</a></h4><table><thead><tr><th style=text-align:center>Result</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>result</code></td><td>a behavioral memory</td></tr></tbody></table><h3 id=chirrtlmemoryportaccess-circtchirrtlmemoryportaccessop><code>chirrtl.memoryport.access</code> (::circt::chirrtl::MemoryPortAccessOp)&nbsp;<a class=headline-hash href=#chirrtlmemoryportaccess-circtchirrtlmemoryportaccessop>¶</a></h3><p>Enables a memory port</p><p>Syntax:</p><pre tabindex=0><code>operation ::= `chirrtl.memoryport.access` $port `[` $index `]` `,` $clock attr-dict `:` qualified(type(operands))
</code></pre><p>This operation is used to conditionally enable a memory port, and associate
it with a <code>clock</code> and <code>index</code>. The memory port will be actuve on the
positive edge of the clock. The index is the address of the memory
accessed. See the FIRRTL rational for more information about why this
operation exists.</p><h4 id=operands>Operands:&nbsp;<a class=headline-hash href=#operands>¶</a></h4><table><thead><tr><th style=text-align:center>Operand</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>port</code></td><td>a behavioral memory port</td></tr><tr><td style=text-align:center><code>index</code></td><td>sint or uint type</td></tr><tr><td style=text-align:center><code>clock</code></td><td>clock</td></tr></tbody></table><h3 id=chirrtlmemoryport-circtchirrtlmemoryportop><code>chirrtl.memoryport</code> (::circt::chirrtl::MemoryPortOp)&nbsp;<a class=headline-hash href=#chirrtlmemoryport-circtchirrtlmemoryportop>¶</a></h3><p>Defines a memory port on CHIRRTL memory</p><p>Syntax:</p><pre tabindex=0><code>operation ::= `chirrtl.memoryport` $direction $memory custom&lt;MemoryPortOp&gt;(attr-dict) `:`
              functional-type(operands, results)
</code></pre><p>This operation defines a new memory port on a <code>seqmem</code> or <code>combmem</code>CHISEL.
<code>data</code> is the data returned from the memory port.</p><p>The memory port requires an access point, which sets the enable condition
of the port, the clock, and the address. This is done by passing the the
<code>port</code> argument to a <code>chirrtl.memoryport.access operation</code>.</p><p>Interfaces: HasCustomSSAName, InferTypeOpInterface</p><h4 id=attributes-1>Attributes:&nbsp;<a class=headline-hash href=#attributes-1>¶</a></h4><table><thead><tr><th style=text-align:center>Attribute</th><th style=text-align:center>MLIR Type</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>direction</code></td><td style=text-align:center>::MemDirAttrAttr</td><td>Memory Direction Enum</td></tr><tr><td style=text-align:center><code>name</code></td><td style=text-align:center>::mlir::StringAttr</td><td>string attribute</td></tr><tr><td style=text-align:center><code>annotations</code></td><td style=text-align:center>::mlir::ArrayAttr</td><td>Annotation array attribute</td></tr></tbody></table><h4 id=operands-1>Operands:&nbsp;<a class=headline-hash href=#operands-1>¶</a></h4><table><thead><tr><th style=text-align:center>Operand</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>memory</code></td><td>a behavioral memory</td></tr></tbody></table><h4 id=results-1>Results:&nbsp;<a class=headline-hash href=#results-1>¶</a></h4><table><thead><tr><th style=text-align:center>Result</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>data</code></td><td>FIRRTLType</td></tr><tr><td style=text-align:center><code>port</code></td><td>a behavioral memory port</td></tr></tbody></table><h3 id=chirrtlseqmem-circtchirrtlseqmemop><code>chirrtl.seqmem</code> (::circt::chirrtl::SeqMemOp)&nbsp;<a class=headline-hash href=#chirrtlseqmem-circtchirrtlseqmemop>¶</a></h3><p>Define a new sequential memory</p><p>Syntax:</p><pre tabindex=0><code>operation ::= `chirrtl.seqmem` (`sym` $inner_sym^)? custom&lt;NameKind&gt;($nameKind) $ruw
              custom&lt;SeqMemOp&gt;(attr-dict) `:` qualified(type($result))
</code></pre><p>Define a new behavioral sequential memory. Sequential memories have a
write latency and a read latency of 1.</p><p>Interfaces: FNamableOp, HasCustomSSAName</p><h4 id=attributes-2>Attributes:&nbsp;<a class=headline-hash href=#attributes-2>¶</a></h4><table><thead><tr><th style=text-align:center>Attribute</th><th style=text-align:center>MLIR Type</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>ruw</code></td><td style=text-align:center>::RUWAttrAttr</td><td>Read Under Write Enum</td></tr><tr><td style=text-align:center><code>name</code></td><td style=text-align:center>::mlir::StringAttr</td><td>string attribute</td></tr><tr><td style=text-align:center><code>nameKind</code></td><td style=text-align:center>::circt::firrtl::NameKindEnumAttr</td><td>name kind</td></tr><tr><td style=text-align:center><code>annotations</code></td><td style=text-align:center>::mlir::ArrayAttr</td><td>Annotation array attribute</td></tr><tr><td style=text-align:center><code>inner_sym</code></td><td style=text-align:center>::circt::firrtl::InnerSymAttr</td><td>Inner symbol definition</td></tr></tbody></table><h4 id=results-2>Results:&nbsp;<a class=headline-hash href=#results-2>¶</a></h4><table><thead><tr><th style=text-align:center>Result</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>result</code></td><td>a behavioral memory</td></tr></tbody></table><h2 id=type-definition>Type definition&nbsp;<a class=headline-hash href=#type-definition>¶</a></h2><h3 id=cmemoryporttype>CMemoryPortType&nbsp;<a class=headline-hash href=#cmemoryporttype>¶</a></h3><p>a behavioral memory port</p><p>Syntax: <code>!chirrtl.cmemoryport</code></p><p>Syntax:</p><pre tabindex=0><code>cmemoryport-type ::= `cmemoryport`
</code></pre><p>The value of a <code>cmemoryport</code> type represents a port which has been
declared on a <code>cmemory</code>. This value is used to set the memory port access
conditions.</p><h3 id=cmemorytype>CMemoryType&nbsp;<a class=headline-hash href=#cmemorytype>¶</a></h3><p>a behavioral memory</p><p>Syntax:</p><pre tabindex=0><code>cmemory-type ::= `cmemory` `&lt;` element-type, element-count `&gt;`
</code></pre><p>The value of a <code>cmemory</code> type represents a behavioral memory with unknown
ports. This is produced by <code>combmem</code> and <code>seqmem</code> declarations and used by
<code>memoryport</code> declarations to define memories and their ports. A CMemory is
similar to a vector of passive element types.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mlir data-lang=mlir><span class=line><span class=cl><span class=p>!</span>chirrtl<span class=p>.</span>cmemory<span class=p>&lt;</span>uint<span class=p>&lt;</span><span class=m>32</span><span class=p>&gt;,</span> <span class=m>16</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>!</span>chirrtl<span class=p>.</span>cmemory<span class=p>&lt;</span>bundle<span class=p>&lt;</span>a <span class=p>:</span> uint<span class=p>&lt;</span><span class=m>1</span><span class=p>&gt;&gt;,</span> <span class=m>16</span><span class=p>&gt;</span>
</span></span></code></pre></div><h4 id=parameters>Parameters:&nbsp;<a class=headline-hash href=#parameters>¶</a></h4><table><thead><tr><th style=text-align:center>Parameter</th><th style=text-align:center>C++ type</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center>elementType</td><td style=text-align:center><code>firrtl::FIRRTLType</code></td><td></td></tr><tr><td style=text-align:center>numElements</td><td style=text-align:center><code>uint64_t</code></td><td></td></tr></tbody></table><div class=edit-meta><br></div><nav class=pagination><a class="nav nav-prev" href=https://circt.llvm.org/docs/Dialects/Calyx/ title="'calyx' Dialect"><i class="fas fa-arrow-left" aria-hidden=true></i> Prev - 'calyx' Dialect</a>
<a class="nav nav-next" href=https://circt.llvm.org/docs/Dialects/Comb/ title="'comb' Dialect">Next - 'comb' Dialect <i class="fas fa-arrow-right" aria-hidden=true></i></a></nav><footer><p class=powered>Powered by <a href=https://gohugo.io>Hugo</a>. Theme by <a href=https://themes.gohugo.io/hugo-theme-techdoc/>TechDoc</a>. Designed by <a href=https://github.com/thingsym/hugo-theme-techdoc>Thingsym</a>.</p></footer></main><div class=sidebar><nav class=slide-menu><ul><li><a href=https://circt.llvm.org/>Home</a></li><li><a href=https://circt.llvm.org/talks/>Talks and Related Publications</a></li><li><a href=https://circt.llvm.org/getting_started/>Getting Started</a></li><li class="parent has-sub-menu"><a href=https://circt.llvm.org/docs/>Code Documentation<span class="mark opened">-</span></a><ul class=sub-menu><li class=has-sub-menu><a href=https://circt.llvm.org/docs/CommandGuide/>CommandGuide<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/CommandGuide/handshake-runner/>handshake-runner</a></li></ul></li><li><a href=https://circt.llvm.org/docs/Charter/>CIRCT Charter</a></li><li class="parent has-sub-menu"><a href=https://circt.llvm.org/docs/Dialects/>Dialects<span class="mark opened">-</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/Calyx/>'calyx' Dialect</a></li><li class=active><a href=https://circt.llvm.org/docs/Dialects/CHIRRTL/>'chirrtl' Dialect</a></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/Comb/>'comb' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/Comb/RationaleComb/>`comb` Dialect Rationale</a></li></ul></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/ESI/>'esi' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/ESI/cosim/>ESI cosimulation model</a></li><li><a href=https://circt.llvm.org/docs/Dialects/ESI/types/>ESI data types and communication types</a></li><li><a href=https://circt.llvm.org/docs/Dialects/ESI/services/>ESI Global Services</a></li><li><a href=https://circt.llvm.org/docs/Dialects/ESI/software_api/>ESI Software APIs</a></li><li><a href=https://circt.llvm.org/docs/Dialects/ESI/notes/>Miscellaneous Notes</a></li><li><a href=https://circt.llvm.org/docs/Dialects/ESI/RationaleESI/>The Elastic Silicon Interconnect dialect</a></li></ul></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/FIRRTL/>'firrtl' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/FIRRTL/FIRRTLAnnotations/>FIRRTL Annotations</a></li><li><a href=https://circt.llvm.org/docs/Dialects/FIRRTL/RationaleFIRRTL/>FIRRTL Dialect Rationale</a></li></ul></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/FSM/>'fsm' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/FSM/RationaleFSM/>FSM Dialect Rationale</a></li></ul></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/Handshake/>'handshake' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/Handshake/RationaleHandshake/>Handshake Dialect Rationale</a></li></ul></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/HW/>'hw' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/HW/RationaleHW/>HW Dialect Rationale</a></li></ul></li><li><a href=https://circt.llvm.org/docs/Dialects/LLHD/>'llhd' Dialect</a></li><li><a href=https://circt.llvm.org/docs/Dialects/Moore/>'moore' Dialect</a></li><li><a href=https://circt.llvm.org/docs/Dialects/MSFT/>'msft' Dialect</a></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/Seq/>'seq' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/Seq/RationaleSeq/>Seq(uential) Dialect Rationale</a></li></ul></li><li><a href=https://circt.llvm.org/docs/Dialects/StaticLogic/>'staticlogic' Dialect</a></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/SV/>'sv' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/SV/RationaleSV/>SV Dialect Rationale</a></li></ul></li></ul></li><li><a href=https://circt.llvm.org/docs/GettingStarted/>Getting Started with the CIRCT Project</a></li><li><a href=https://circt.llvm.org/docs/Passes/>Passes</a></li><li><a href=https://circt.llvm.org/docs/PyCDE/>PyCDE</a></li><li><a href=https://circt.llvm.org/docs/Scheduling/>Static scheduling infrastructure</a></li><li><a href=https://circt.llvm.org/docs/RationaleSymbols/>Symbol and Inner Symbol Rationale</a></li><li><a href=https://circt.llvm.org/docs/PythonBindings/>Using the Python Bindings</a></li><li><a href=https://circt.llvm.org/docs/VerilogGeneration/>Verilog and SystemVerilog Generation</a></li></ul></li></ul></nav><div class=sidebar-footer></div></div></div><a href=# id=backtothetop-fixed class=backtothetop data-backtothetop-duration=600 data-backtothetop-easing=easeOutQuart data-backtothetop-fixed-fadein=1000 data-backtothetop-fixed-fadeout=1000 data-backtothetop-fixed-bottom=10 data-backtothetop-fixed-right=20><span class="fa-layers fa-fw"><i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i></span></a></div></body></html>