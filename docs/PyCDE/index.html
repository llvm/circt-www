<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>PyCDE - CIRCT</title><meta name=description content="Circuit IR Compilers and Tools"><meta name=generator content="Hugo 0.101.0"><link href=https://circt.llvm.org/index.xml rel=alternate type=application/rss+xml><link rel=canonical href=https://circt.llvm.org/docs/PyCDE/><link rel=stylesheet href=https://circt.llvm.org/css/theme.css><script src=https://use.fontawesome.com/releases/v5.0.6/js/all.js></script>
<link rel=stylesheet href=https://circt.llvm.org/css/chroma.min.css><script src=https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js></script>
<script src=https://circt.llvm.org/js/bundle.js></script>
<script type=text/javascript src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$', '$'] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
    }
  });
</script><style>:root{}</style></head><body><div class=container><header><h1><div><img src=https://circt.llvm.org//circt-logo.svg width=40px align=absmiddle>
CIRCT</div></h1><p class=description>Circuit IR Compilers and Tools</p></header><div class=global-menu><nav><ul><li class=parent><a href>Community<i class="fas fa-angle-right"></i></a><ul class=sub-menu><li class=child><a href=https://llvm.discourse.group/c/Projects-that-want-to-become-official-LLVM-Projects/circt/40>Forums</a></li><li class=child><a href=https://discord.gg/xS7Z362>Chat</a></li></ul></li><li class=parent><a href=https://github.com/llvm/circt/tree/main/>Source<i class="fas fa-angle-right"></i></a><ul class=sub-menu><li class=child><a href=/doxygen/>Doxygen</a></li><li class=child><a href=https://github.com/llvm/circt/tree/main/>GitHub</a></li></ul></li></ul></nav></div><div class=content-container><main><h1>PyCDE</h1><p>PyCDE stands for Python circuit design entry. It is an experimental, opinionated, Python-based fronted for CIRCT&rsquo;s Python bindings. The goal is to make the definition of hardware modules using the bindings simple.</p><h1 id=installation>Installation</h1><h2 id=via-pip>via Pip&nbsp;<a class=headline-hash href=#via-pip>¶</a></h2><p>PyCDE is now being released on PyPI:
<a href=https://pypi.org/project/pycde/>https://pypi.org/project/pycde/</a></p><h2 id=installing-and-building-with-wheels>Installing and Building with Wheels&nbsp;<a class=headline-hash href=#installing-and-building-with-wheels>¶</a></h2><p>The simplest way to get started using PyCDE is to install it with the <code>pip install</code> command:</p><pre tabindex=0><code>$ cd circt
$ pip install frontends/PyCDE --use-feature=in-tree-build
</code></pre><p>If you just want to build the wheel, use the <code>pip wheel</code> command:</p><pre tabindex=0><code>$ cd circt
$ pip wheel frontends/PyCDE --use-feature=in-tree-build
</code></pre><p>This will create a <code>pycde-&lt;version>-&lt;python version>-&lt;platform>.whl</code> file in the root of the repo.</p><h2 id=manual-compilation>Manual Compilation&nbsp;<a class=headline-hash href=#manual-compilation>¶</a></h2><p>If you are interested in developing PyCDE, or simply want to install it yourself with CMake, you can configure CMake similarly to the
<a href=/PythonBindings/#manual-compilation>Python bindings</a>:</p><pre tabindex=0><code>$ cd circt
$ mkdir build
$ cd build
$ cmake -G Ninja ../llvm/llvm \
    -DCMAKE_BUILD_TYPE=Debug \
    -DLLVM_ENABLE_PROJECTS=mlir \
    -DLLVM_ENABLE_ASSERTIONS=ON \
    -DLLVM_EXTERNAL_PROJECTS=circt \
    -DLLVM_EXTERNAL_CIRCT_SOURCE_DIR=.. \
    -DMLIR_ENABLE_BINDINGS_PYTHON=ON \
    -DCIRCT_BINDINGS_PYTHON_ENABLED=ON \
    -DCIRCT_ENABLE_FRONTENDS=PyCDE
</code></pre><p>Afterwards, use <code>ninja check-pycde</code> to ensure that PyCDE is built and the tests pass.</p><p>If you want to use PyCDE after compiling it, you must add the core CIRCT bindings and PyCDE to your PYTHONPATH:</p><pre tabindex=0><code>export PYTHONPATH=&#34;$PWD/build/tools/circt/python_packages/circt_core:$PWD/build/tools/circt/python_packages/pycde&#34;
</code></pre><p>If you are installing PyCDE through <code>ninja install</code>, the libraries and Python modules will be installed into the correct location automatically.</p><h2 id=usage>Usage&nbsp;<a class=headline-hash href=#usage>¶</a></h2><h3 id=getting-started>Getting Started&nbsp;<a class=headline-hash href=#getting-started>¶</a></h3><p>The following example demonstrates a simple module that adds two integers:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pycde</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pycde.dialects</span> <span class=kn>import</span> <span class=n>comb</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@pycde</span><span class=o>.</span><span class=n>module</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>AddInts</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span> <span class=o>=</span> <span class=n>pycde</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=n>pycde</span><span class=o>.</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>b</span> <span class=o>=</span> <span class=n>pycde</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=n>pycde</span><span class=o>.</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>c</span> <span class=o>=</span> <span class=n>pycde</span><span class=o>.</span><span class=n>Output</span><span class=p>(</span><span class=n>pycde</span><span class=o>.</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@pycde</span><span class=o>.</span><span class=n>generator</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>construct</span><span class=p>(</span><span class=n>mod</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>mod</span><span class=o>.</span><span class=n>c</span> <span class=o>=</span> <span class=n>comb</span><span class=o>.</span><span class=n>AddOp</span><span class=p>(</span><span class=n>mod</span><span class=o>.</span><span class=n>a</span><span class=p>,</span> <span class=n>mod</span><span class=o>.</span><span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>system</span> <span class=o>=</span> <span class=n>pycde</span><span class=o>.</span><span class=n>System</span><span class=p>([</span><span class=n>AddInts</span><span class=p>],</span> <span class=n>name</span><span class=o>=</span><span class=s2>&#34;ExampleSystem&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>system</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>system</span><span class=o>.</span><span class=n>generate</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>system</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>system</span><span class=o>.</span><span class=n>emit_outputs</span><span class=p>()</span>
</span></span></code></pre></div><h3 id=modules-generators-and-systems>Modules, Generators, and Systems&nbsp;<a class=headline-hash href=#modules-generators-and-systems>¶</a></h3><p>Modules are decorated with <code>@pycde.module</code>, and define their ports using <code>pycde.Input</code> and <code>pycde.Output</code>. To control how the body of the module is generated, decorate a method with <code>@pycde.generator</code>.</p><p>The generator is passed an object representing the ports of the module, where each port can be accessed through named attributes according to port names. The value on an input port <code>a</code> of <code>mod</code> is accessed like <code>expr(mod.a)</code>. The value on an output port is assigned like <code>mod.c = expr</code>.</p><p>In order to use <code>@pycde.module</code>s, you must add them into a <code>pycde.System</code>. This is constructed by passing a list of <code>@pycde.module</code>s, and optionally a name. The name defaults to <code>"PyCDESystem"</code>, and dictates the output directory for System Verilog files. Calling the <code>generate</code> method will run the module(s) generators. Calling the <code>emit_outputs</code> method will export the system to System Verilog.</p><p>The above example will print out three times:</p><ol><li>The <code>AddInts</code> module with an empty body</li><li>The <code>AddInts</code> module after its body has been generated</li><li>The <code>AddInts</code> module represented in System Verilog, in <code>ExampleSystem/AddInts.sv</code></li></ol><h3 id=using-circt-dialects>Using CIRCT dialects&nbsp;<a class=headline-hash href=#using-circt-dialects>¶</a></h3><p>Note that in the
<a href=#getting-started>Getting Started</a> example, we import <code>pycde.dialects</code> rather than <code>circt.dialects</code>. The <code>pycde.dialects</code> provide thin wrappers around the classes defined in <code>circt.dialects</code> and adapt them to
<a href=#pycde-values>PyCDE Values</a> by overriding each operation&rsquo;s constructor.</p><h3 id=pycde-values>PyCDE Values&nbsp;<a class=headline-hash href=#pycde-values>¶</a></h3><p>PyCDE Values are how PyCDE supports named access to module input and output ports. They are also how PyCDE represents the operands and results of any operation imported from <code>pycde.dialects</code>. This allows PyCDE generators to stitch together instances of modules, external modules, and any operations from the CIRCT dialects.</p><h4 id=listvalues-and-numpy-features>ListValues and NumPy features&nbsp;<a class=headline-hash href=#listvalues-and-numpy-features>¶</a></h4><p>PyCDE supports a subset of numpy array transformations (see <code>pycde/ndarray.py</code>) that can be used to do complex reshaping and transformation of multidimensional arrays.</p><p>The numpy functionality is provided by the <code>NDArray</code> class, which creates a view on top of existing SSA values. Users may choose to perform transformations directly on <code>ListValue</code>s:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nd>@module</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>M1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=n>in1</span> <span class=o>=</span> <span class=n>Input</span><span class=p>(</span><span class=n>dim</span><span class=p>(</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=n>out</span> <span class=o>=</span> <span class=n>Output</span><span class=p>(</span><span class=n>dim</span><span class=p>(</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>16</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@generator</span>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=nf>build</span><span class=p>(</span><span class=n>ports</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>ports</span><span class=o>.</span><span class=n>out</span> <span class=o>=</span> <span class=n>ports</span><span class=o>.</span><span class=n>in1</span><span class=o>.</span><span class=n>transpose</span><span class=p>((</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>))</span><span class=o>.</span><span class=n>reshape</span><span class=p>((</span><span class=mi>16</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=c1># Under the hood, this resolves to</span>
</span></span><span class=line><span class=cl>    <span class=c1># Matrix(from_value=</span>
</span></span><span class=line><span class=cl>    <span class=c1>#    Matrix(from_value=ports.in1).transpose((1,0)).to_circt())</span>
</span></span><span class=line><span class=cl>    <span class=c1>#  .reshape(16, 2).to_circt()</span>
</span></span></code></pre></div><p>or manually manage a <code>NDArray</code> object.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nd>@module</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>M1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=n>in1</span> <span class=o>=</span> <span class=n>Input</span><span class=p>(</span><span class=n>dim</span><span class=p>(</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=n>out</span> <span class=o>=</span> <span class=n>Output</span><span class=p>(</span><span class=n>dim</span><span class=p>(</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>16</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@generator</span>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=nf>build</span><span class=p>(</span><span class=n>ports</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>m</span> <span class=o>=</span> <span class=n>NDArray</span><span class=p>(</span><span class=n>from_value</span><span class=o>=</span><span class=n>ports</span><span class=o>.</span><span class=n>in1</span><span class=p>)</span><span class=o>.</span><span class=n>transpose</span><span class=p>((</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>))</span><span class=o>.</span><span class=n>reshape</span><span class=p>((</span><span class=mi>16</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>ports</span><span class=o>.</span><span class=n>out</span> <span class=o>=</span> <span class=n>m</span><span class=o>.</span><span class=n>to_circt</span><span class=p>()</span>
</span></span></code></pre></div><p>Manually managing the NDArray object allows for postponing materialization (<code>to_circt()</code>) until all transformations have been applied.
In short, this allows us to do as many transformations as possible in software, before emitting IR.
Note however, that this might reduce debugability of the generated hardware due to the lack of <code>sv.wire</code>s in between each matrix transformation.</p><p>For further usage examples, see <code>PyCDE/test/test_ndarray.py</code>, and inspect <code>ListValue</code> in <code>pycde/value.py</code> for the full list of implemented numpy functions.</p><h3 id=instantiating-modules>Instantiating Modules&nbsp;<a class=headline-hash href=#instantiating-modules>¶</a></h3><p>Modules defined with <code>@pycde.module</code> can be included in other modules. The following example defines a module that instantiates the <code>AddInts</code> module defined in
<a href=#getting-started>Getting Started</a>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@pycde</span><span class=o>.</span><span class=n>module</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Top</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span> <span class=o>=</span> <span class=n>pycde</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=n>pycde</span><span class=o>.</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>b</span> <span class=o>=</span> <span class=n>pycde</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=n>pycde</span><span class=o>.</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>c</span> <span class=o>=</span> <span class=n>pycde</span><span class=o>.</span><span class=n>Output</span><span class=p>(</span><span class=n>pycde</span><span class=o>.</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@pycde</span><span class=o>.</span><span class=n>generator</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>construct</span><span class=p>(</span><span class=n>mod</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>add_ints</span> <span class=o>=</span> <span class=n>AddInts</span><span class=p>(</span><span class=n>a</span><span class=o>=</span><span class=n>mod</span><span class=o>.</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=n>mod</span><span class=o>.</span><span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>mod</span><span class=o>.</span><span class=n>c</span> <span class=o>=</span> <span class=n>add_ints</span><span class=o>.</span><span class=n>c</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>system</span> <span class=o>=</span> <span class=n>pycde</span><span class=o>.</span><span class=n>System</span><span class=p>([</span><span class=n>Top</span><span class=p>],</span> <span class=n>name</span><span class=o>=</span><span class=s2>&#34;ExampleSystem&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>system</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>system</span><span class=o>.</span><span class=n>generate</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>system</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>system</span><span class=o>.</span><span class=n>emit_outputs</span><span class=p>()</span>
</span></span></code></pre></div><p>The <code>Top</code> module in <code>ExampleSystem/Top.sv</code> instantiates the <code>AddInts</code> module we defined before.</p><p>This demonstrates how to instantiate a module, as well as a more complex usage of
<a href=#pycde-values>PyCDE Values</a>. The constructor of a <code>@pycde.module</code> expects named keyword arguments for each input port. These keyword arguments can be any PyCDE Values, and the above example uses module inputs. Objects of <code>@pycde.module</code> classes represent instances of the module, and support named access to output port values like <code>add_insts.c</code>. These output port values are PyCDE Values, and can be use to further connect modules or instantiate CIRCT dialect operations.</p><h3 id=external-modules>External Modules&nbsp;<a class=headline-hash href=#external-modules>¶</a></h3><p>External modules are how PyCDE and CIRCT support interacting with existing System Verilog or Verilog modules. They are declared in PyCDE similarly to normal modules. The difference is external modules only contain a module interface but no generator for the implementation. The following example demonstrates using external modules.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nd>@pycde</span><span class=o>.</span><span class=n>externmodule</span><span class=p>(</span><span class=s2>&#34;MyMultiplier&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MulInts</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span> <span class=o>=</span> <span class=n>pycde</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=n>pycde</span><span class=o>.</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>b</span> <span class=o>=</span> <span class=n>pycde</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=n>pycde</span><span class=o>.</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>c</span> <span class=o>=</span> <span class=n>pycde</span><span class=o>.</span><span class=n>Output</span><span class=p>(</span><span class=n>pycde</span><span class=o>.</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@pycde</span><span class=o>.</span><span class=n>module</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Top</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span> <span class=o>=</span> <span class=n>pycde</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=n>pycde</span><span class=o>.</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>b</span> <span class=o>=</span> <span class=n>pycde</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=n>pycde</span><span class=o>.</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>c</span> <span class=o>=</span> <span class=n>pycde</span><span class=o>.</span><span class=n>Output</span><span class=p>(</span><span class=n>pycde</span><span class=o>.</span><span class=n>types</span><span class=o>.</span><span class=n>i32</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@pycde</span><span class=o>.</span><span class=n>generator</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>construct</span><span class=p>(</span><span class=n>mod</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>add_ints</span> <span class=o>=</span> <span class=n>MulInts</span><span class=p>(</span><span class=n>a</span><span class=o>=</span><span class=n>mod</span><span class=o>.</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=n>mod</span><span class=o>.</span><span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>mod</span><span class=o>.</span><span class=n>c</span> <span class=o>=</span> <span class=n>add_ints</span><span class=o>.</span><span class=n>c</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>system</span> <span class=o>=</span> <span class=n>pycde</span><span class=o>.</span><span class=n>System</span><span class=p>([</span><span class=n>Top</span><span class=p>],</span> <span class=n>name</span><span class=o>=</span><span class=s2>&#34;ExampleSystem&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>system</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>system</span><span class=o>.</span><span class=n>generate</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>system</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>system</span><span class=o>.</span><span class=n>emit_outputs</span><span class=p>()</span>
</span></span></code></pre></div><p>The <code>Top</code> module in <code>ExampleSystem/Top.sv</code> instantiates the <code>MyMultiplier</code> external module.</p><p>The <code>MyMultiplier</code> module is declared in the default output file, <code>ExampleSystem/ExampleSystem.sv</code>.</p><p>External modules are decorated with <code>@pycde.externmodule</code>, and the decorator accepts a string name to use for the external module name. The ports are declared just like for <code>@pycde.module</code>, using <code>pycde.Input</code>, <code>pycde.Output</code>, and <code>pycde.types</code>. External modules are instantiated just like normal modules.</p><div class=edit-meta><br></div><nav class=pagination><a class="nav nav-prev" href=https://circt.llvm.org/docs/Passes/ title=Passes><i class="fas fa-arrow-left" aria-hidden=true></i> Prev - Passes</a>
<a class="nav nav-next" href=https://circt.llvm.org/docs/Scheduling/ title="Static scheduling infrastructure">Next - Static scheduling infrastructure <i class="fas fa-arrow-right" aria-hidden=true></i></a></nav><footer><p class=powered>Powered by <a href=https://gohugo.io>Hugo</a>. Theme by <a href=https://themes.gohugo.io/hugo-theme-techdoc/>TechDoc</a>. Designed by <a href=https://github.com/thingsym/hugo-theme-techdoc>Thingsym</a>.</p></footer></main><div class=sidebar><nav class=slide-menu><ul><li><a href=https://circt.llvm.org/>Home</a></li><li><a href=https://circt.llvm.org/talks/>Talks and Related Publications</a></li><li><a href=https://circt.llvm.org/getting_started/>Getting Started</a></li><li class="parent has-sub-menu"><a href=https://circt.llvm.org/docs/>Code Documentation<span class="mark opened">-</span></a><ul class=sub-menu><li class=has-sub-menu><a href=https://circt.llvm.org/docs/CommandGuide/>CommandGuide<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/CommandGuide/handshake-runner/>handshake-runner</a></li></ul></li><li><a href=https://circt.llvm.org/docs/Charter/>CIRCT Charter</a></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/>Dialects<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/Calyx/>'calyx' Dialect</a></li><li><a href=https://circt.llvm.org/docs/Dialects/CHIRRTL/>'chirrtl' Dialect</a></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/Comb/>'comb' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/Comb/RationaleComb/>`comb` Dialect Rationale</a></li></ul></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/ESI/>'esi' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/ESI/cosim/>ESI cosimulation model</a></li><li><a href=https://circt.llvm.org/docs/Dialects/ESI/types/>ESI data types and communication types</a></li><li><a href=https://circt.llvm.org/docs/Dialects/ESI/services/>ESI Global Services</a></li><li><a href=https://circt.llvm.org/docs/Dialects/ESI/software_api/>ESI Software APIs</a></li><li><a href=https://circt.llvm.org/docs/Dialects/ESI/notes/>Miscellaneous Notes</a></li><li><a href=https://circt.llvm.org/docs/Dialects/ESI/RationaleESI/>The Elastic Silicon Interconnect dialect</a></li></ul></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/FIRRTL/>'firrtl' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/FIRRTL/FIRRTLAnnotations/>FIRRTL Annotations</a></li><li><a href=https://circt.llvm.org/docs/Dialects/FIRRTL/RationaleFIRRTL/>FIRRTL Dialect Rationale</a></li></ul></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/FSM/>'fsm' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/FSM/RationaleFSM/>FSM Dialect Rationale</a></li></ul></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/Handshake/>'handshake' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/Handshake/RationaleHandshake/>Handshake Dialect Rationale</a></li></ul></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/HW/>'hw' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/HW/RationaleHW/>HW Dialect Rationale</a></li></ul></li><li><a href=https://circt.llvm.org/docs/Dialects/LLHD/>'llhd' Dialect</a></li><li><a href=https://circt.llvm.org/docs/Dialects/Moore/>'moore' Dialect</a></li><li><a href=https://circt.llvm.org/docs/Dialects/MSFT/>'msft' Dialect</a></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/Seq/>'seq' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/Seq/RationaleSeq/>Seq(uential) Dialect Rationale</a></li></ul></li><li><a href=https://circt.llvm.org/docs/Dialects/StaticLogic/>'staticlogic' Dialect</a></li><li class=has-sub-menu><a href=https://circt.llvm.org/docs/Dialects/SV/>'sv' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://circt.llvm.org/docs/Dialects/SV/RationaleSV/>SV Dialect Rationale</a></li></ul></li></ul></li><li><a href=https://circt.llvm.org/docs/GettingStarted/>Getting Started with the CIRCT Project</a></li><li><a href=https://circt.llvm.org/docs/Passes/>Passes</a></li><li class=active><a href=https://circt.llvm.org/docs/PyCDE/>PyCDE</a></li><li><a href=https://circt.llvm.org/docs/Scheduling/>Static scheduling infrastructure</a></li><li><a href=https://circt.llvm.org/docs/RationaleSymbols/>Symbol and Inner Symbol Rationale</a></li><li><a href=https://circt.llvm.org/docs/PythonBindings/>Using the Python Bindings</a></li><li><a href=https://circt.llvm.org/docs/VerilogGeneration/>Verilog and SystemVerilog Generation</a></li></ul></li></ul></nav><div class=sidebar-footer></div></div></div><a href=# id=backtothetop-fixed class=backtothetop data-backtothetop-duration=600 data-backtothetop-easing=easeOutQuart data-backtothetop-fixed-fadein=1000 data-backtothetop-fixed-fadeout=1000 data-backtothetop-fixed-bottom=10 data-backtothetop-fixed-right=20><span class="fa-layers fa-fw"><i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i></span></a></div></body></html>