<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CIRCT: lib/Dialect/FIRRTL/Transforms/EmitOMIR.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CIRCT
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1a25ec519b6c1121408b67cc33ce3f15.html">Dialect</a></li><li class="navelem"><a class="el" href="dir_5ecba3b4683443cdd5d71918532517b3.html">FIRRTL</a></li><li class="navelem"><a class="el" href="dir_1f43711e4003e7a9e3d354ad53319866.html">Transforms</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">EmitOMIR.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="FIRRTL_2Transforms_2PassDetails_8h_source.html">PassDetails.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AnnotationDetails_8h_source.html">circt/Dialect/FIRRTL/AnnotationDetails.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FIRParser_8h_source.html">circt/Dialect/FIRRTL/FIRParser.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FIRRTLAnnotationHelper_8h_source.html">circt/Dialect/FIRRTL/FIRRTLAnnotationHelper.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FIRRTLInstanceGraph_8h_source.html">circt/Dialect/FIRRTL/FIRRTLInstanceGraph.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FIRRTLUtils_8h_source.html">circt/Dialect/FIRRTL/FIRRTLUtils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="NLATable_8h_source.html">circt/Dialect/FIRRTL/NLATable.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Dialect_2FIRRTL_2Namespace_8h_source.html">circt/Dialect/FIRRTL/Namespace.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Dialect_2FIRRTL_2Passes_8h_source.html">circt/Dialect/FIRRTL/Passes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="HWAttributes_8h_source.html">circt/Dialect/HW/HWAttributes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SVDialect_8h_source.html">circt/Dialect/SV/SVDialect.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SVOps_8h_source.html">circt/Dialect/SV/SVOps.h</a>&quot;</code><br />
<code>#include &quot;mlir/IR/ImplicitLocOpBuilder.h&quot;</code><br />
<code>#include &quot;llvm/ADT/TypeSwitch.h&quot;</code><br />
<code>#include &quot;llvm/Support/Debug.h&quot;</code><br />
<code>#include &quot;llvm/Support/JSON.h&quot;</code><br />
<code>#include &lt;functional&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for EmitOMIR.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="EmitOMIR_8cpp__incl.png" border="0" usemap="#lib_2Dialect_2FIRRTL_2Transforms_2EmitOMIR_8cpp" alt=""/></div>
<map name="lib_2Dialect_2FIRRTL_2Transforms_2EmitOMIR_8cpp" id="lib_2Dialect_2FIRRTL_2Transforms_2EmitOMIR_8cpp">
<area shape="rect" title=" " alt="" coords="2011,5,2205,47"/>
<area shape="rect" href="FIRRTL_2Transforms_2PassDetails_8h.html" title=" " alt="" coords="507,102,616,129"/>
<area shape="rect" href="HWAttributes_8h.html" title=" " alt="" coords="3420,452,3649,479"/>
<area shape="rect" href="Dialect_2FIRRTL_2Passes_8h.html" title=" " alt="" coords="225,184,373,225"/>
<area shape="rect" href="AnnotationDetails_8h.html" title=" " alt="" coords="599,184,753,225"/>
<area shape="rect" href="FIRParser_8h.html" title=" " alt="" coords="778,184,926,225"/>
<area shape="rect" href="FIRRTLAnnotationHelper_8h.html" title=" " alt="" coords="1762,95,1958,136"/>
<area shape="rect" href="Dialect_2FIRRTL_2Namespace_8h.html" title=" " alt="" coords="1911,184,2059,225"/>
<area shape="rect" href="FIRRTLInstanceGraph_8h.html" title=" " alt="" coords="1188,95,1364,136"/>
<area shape="rect" href="FIRRTLUtils_8h.html" title=" " alt="" coords="2034,95,2182,136"/>
<area shape="rect" href="NLATable_8h.html" title=" " alt="" coords="1431,184,1579,225"/>
<area shape="rect" href="SVDialect_8h.html" title=" " alt="" coords="2844,281,3044,307"/>
<area shape="rect" href="SVOps_8h.html" title=" " alt="" coords="3004,191,3183,218"/>
<area shape="rect" title=" " alt="" coords="2359,102,2574,129"/>
<area shape="rect" title=" " alt="" coords="2599,102,2769,129"/>
<area shape="rect" title=" " alt="" coords="2793,102,2956,129"/>
<area shape="rect" title=" " alt="" coords="2981,102,3134,129"/>
<area shape="rect" title=" " alt="" coords="3158,102,3245,129"/>
<area shape="rect" href="FIRRTLOps_8h.html" title=" " alt="" coords="1911,273,2059,315"/>
<area shape="rect" title=" " alt="" coords="487,273,635,315"/>
<area shape="rect" title=" " alt="" coords="397,191,523,218"/>
<area shape="rect" href="FIRRTLDialect_8h.html" title=" " alt="" coords="1450,363,1598,404"/>
<area shape="rect" href="FIRRTLOpInterfaces_8h.html" title=" " alt="" coords="1623,363,1788,404"/>
<area shape="rect" href="HWOpInterfaces_8h.html" title=" " alt="" coords="1369,452,1618,479"/>
<area shape="rect" title=" " alt="" coords="1518,527,1682,553"/>
<area shape="rect" href="HWTypes_8h.html" title=" " alt="" coords="2505,370,2708,397"/>
<area shape="rect" title=" " alt="" coords="2073,370,2276,397"/>
<area shape="rect" title=" " alt="" coords="2300,363,2481,404"/>
<area shape="rect" title=" " alt="" coords="1863,363,2049,404"/>
<area shape="rect" href="LLVM_8h.html" title=" " alt="" coords="988,452,1143,479"/>
<area shape="rect" title=" " alt="" coords="3231,527,3417,553"/>
<area shape="rect" title=" " alt="" coords="2906,452,3033,479"/>
<area shape="rect" title=" " alt="" coords="3718,527,3863,553"/>
<area shape="rect" title=" " alt="" coords="3442,527,3694,553"/>
<area shape="rect" title=" " alt="" coords="107,281,285,307"/>
<area shape="rect" title=" " alt="" coords="310,281,463,307"/>
<area shape="rect" title=" " alt="" coords="5,281,83,307"/>
<area shape="rect" href="Support_2Namespace_8h.html" title=" " alt="" coords="1689,281,1887,307"/>
<area shape="rect" title=" " alt="" coords="1268,370,1425,397"/>
<area shape="rect" href="InstanceGraphBase_8h.html" title=" " alt="" coords="1052,184,1239,225"/>
<area shape="rect" title=" " alt="" coords="818,281,990,307"/>
<area shape="rect" title=" " alt="" coords="1065,281,1228,307"/>
<area shape="rect" title=" " alt="" coords="1253,281,1398,307"/>
<area shape="rect" title=" " alt="" coords="2733,370,2881,397"/>
<area shape="rect" title=" " alt="" coords="1474,281,1665,307"/>
<area shape="rect" href="CombDialect_8h.html" title=" " alt="" coords="3253,363,3395,404"/>
<area shape="rect" title=" " alt="" coords="3006,370,3229,397"/>
<area shape="rect" href="SVAttributes_8h.html" title=" " alt="" coords="3674,452,3891,479"/>
<area shape="rect" href="SVTypes_8h.html" title=" " alt="" coords="3306,281,3497,307"/>
<area shape="rect" title=" " alt="" coords="3573,281,3747,307"/>
</map>
</div>
</div>
<p><a href="EmitOMIR_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="EmitOMIR_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;omir&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab90c4f64baf3d45ff4d0d3e8dfdd6723"><td class="memItemLeft" align="right" valign="top">static IntegerAttr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="EmitOMIR_8cpp.html#ab90c4f64baf3d45ff4d0d3e8dfdd6723">isOMSRAM</a> (Attribute &amp;node)</td></tr>
<tr class="memdesc:ab90c4f64baf3d45ff4d0d3e8dfdd6723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if an <code>OMNode</code> is an <code>OMSRAM</code> and requires special treatment of its instance path field.  <a href="EmitOMIR_8cpp.html#ab90c4f64baf3d45ff4d0d3e8dfdd6723">More...</a><br /></td></tr>
<tr class="separator:ab90c4f64baf3d45ff4d0d3e8dfdd6723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62521ee2539706a39c028123e16f4e7c"><td class="memItemLeft" align="right" valign="top">static Optional&lt; Attribute &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="EmitOMIR_8cpp.html#a62521ee2539706a39c028123e16f4e7c">scatterOMIR</a> (Attribute original, ApplyState &amp;state)</td></tr>
<tr class="memdesc:a62521ee2539706a39c028123e16f4e7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursively walk Object Model IR and convert FIRRTL targets to identifiers while scattering trackers into the newAnnotations argument.  <a href="EmitOMIR_8cpp.html#a62521ee2539706a39c028123e16f4e7c">More...</a><br /></td></tr>
<tr class="separator:a62521ee2539706a39c028123e16f4e7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee7534ee8d8b91f8146bb360dca7d715"><td class="memItemLeft" align="right" valign="top">static Optional&lt; std::pair&lt; StringRef, DictionaryAttr &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="EmitOMIR_8cpp.html#aee7534ee8d8b91f8146bb360dca7d715">scatterOMField</a> (Attribute original, const Attribute root, unsigned index, ApplyState &amp;state)</td></tr>
<tr class="memdesc:aee7534ee8d8b91f8146bb360dca7d715"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert an Object Model Field into an optional pair of a string key and a dictionary attribute.  <a href="EmitOMIR_8cpp.html#aee7534ee8d8b91f8146bb360dca7d715">More...</a><br /></td></tr>
<tr class="separator:aee7534ee8d8b91f8146bb360dca7d715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a298b3d692fa224a81ba01208d18a32f5"><td class="memItemLeft" align="right" valign="top">static Optional&lt; DictionaryAttr &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="EmitOMIR_8cpp.html#a298b3d692fa224a81ba01208d18a32f5">scatterOMNode</a> (Attribute original, const Attribute root, ApplyState &amp;state)</td></tr>
<tr class="memdesc:a298b3d692fa224a81ba01208d18a32f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert an Object Model Node to an optional dictionary, convert source locator strings to location attributes, and scatter FIRRTL targets into the circuit.  <a href="EmitOMIR_8cpp.html#a298b3d692fa224a81ba01208d18a32f5">More...</a><br /></td></tr>
<tr class="separator:a298b3d692fa224a81ba01208d18a32f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&nbsp;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;omir&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="EmitOMIR_8cpp_source.html#l00031">31</a> of file <a class="el" href="EmitOMIR_8cpp_source.html">EmitOMIR.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab90c4f64baf3d45ff4d0d3e8dfdd6723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab90c4f64baf3d45ff4d0d3e8dfdd6723">&#9670;&nbsp;</a></span>isOMSRAM()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static IntegerAttr isOMSRAM </td>
          <td>(</td>
          <td class="paramtype">Attribute &amp;&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if an <code>OMNode</code> is an <code>OMSRAM</code> and requires special treatment of its instance path field. </p>
<p>This returns the ID of the tracker stored in the <code>instancePath</code> or <code>finalPath</code> field if the node has an array field <code>omType</code> that contains a <code>OMString:OMSRAM</code> entry. </p>

<p class="definition">Definition at line <a class="el" href="EmitOMIR_8cpp_source.html#l00149">149</a> of file <a class="el" href="EmitOMIR_8cpp_source.html">EmitOMIR.cpp</a>.</p>

</div>
</div>
<a id="aee7534ee8d8b91f8146bb360dca7d715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee7534ee8d8b91f8146bb360dca7d715">&#9670;&nbsp;</a></span>scatterOMField()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Optional&lt;std::pair&lt;StringRef, DictionaryAttr&gt; &gt; scatterOMField </td>
          <td>(</td>
          <td class="paramtype">Attribute&#160;</td>
          <td class="paramname"><em>original</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Attribute&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ApplyState &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert an Object Model Field into an optional pair of a string key and a dictionary attribute. </p>
<p>Expand internal source locator strings to location attributes. Scatter any FIRRTL targets into the circuit. If this is an illegal Object Model Field return None.</p>
<p>Each Object Model Field consists of three mandatory members with the following names and types:</p>
<ul>
<li>"info": Source Locator String</li>
<li>"name": String</li>
<li>"value": Object Model IR</li>
</ul>
<p>The key is the "name" and the dictionary consists of the "info" and "value" members. Each value is recursively traversed to scatter any FIRRTL targets that may be used inside it.</p>
<p>This conversion from an object (dictionary) to key&ndash;value pair is safe because each Object Model Field in an Object Model Node must have a unique "name". Anything else is illegal Object Model. </p>

<p class="definition">Definition at line <a class="el" href="EmitOMIR_8cpp_source.html#l00339">339</a> of file <a class="el" href="EmitOMIR_8cpp_source.html">EmitOMIR.cpp</a>.</p>

<p class="reference">References <a class="el" href="CalyxOps_8cpp_source.html#l00039">circt::calyx::direction::get()</a>, <a class="el" href="namespacecirct_1_1firrtl.html#a9537a2b7f366f94a7a70b5d4ca0d8947">circt::firrtl::maybeStringToLocation()</a>, <a class="el" href="AnnotationDetails_8h_source.html#l00036">circt::firrtl::omirAnnoClass</a>, and <a class="el" href="EmitOMIR_8cpp_source.html#l00199">scatterOMIR()</a>.</p>

<p class="reference">Referenced by <a class="el" href="EmitOMIR_8cpp_source.html#l00405">scatterOMNode()</a>.</p>

</div>
</div>
<a id="a62521ee2539706a39c028123e16f4e7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62521ee2539706a39c028123e16f4e7c">&#9670;&nbsp;</a></span>scatterOMIR()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Optional&lt;Attribute&gt; scatterOMIR </td>
          <td>(</td>
          <td class="paramtype">Attribute&#160;</td>
          <td class="paramname"><em>original</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ApplyState &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recursively walk Object Model IR and convert FIRRTL targets to identifiers while scattering trackers into the newAnnotations argument. </p>
<p>Object Model IR consists of a type hierarchy built around recursive arrays and dictionaries whose leaves are "string-encoded types". This is an Object Model-specific construct that puts type information alongside a value. Concretely, these look like: </p><pre class="fragment">'OM' type ':' value
</pre><p>This function is only concerned with unpacking types whose values are FIRRTL targets. This is because these need to be kept up-to-date with modifications made to the circuit whereas other types are just passing through CIRCT.</p>
<p>At a later time this understanding may be expanded or Object Model IR may become its own Dialect. At this time, this function is trying to do as minimal work as possible to just validate that the OMIR looks okay without doing lots of unnecessary unpacking/repacking of string-encoded types. </p>

<p class="definition">Definition at line <a class="el" href="EmitOMIR_8cpp_source.html#l00199">199</a> of file <a class="el" href="EmitOMIR_8cpp_source.html">EmitOMIR.cpp</a>.</p>

<p class="reference">References <a class="el" href="CalyxOps_8cpp_source.html#l00039">circt::calyx::direction::get()</a>, <a class="el" href="FIRRTLAnnotations_8cpp_source.html#l00682">circt::firrtl::isOMIRStringEncodedPassthrough()</a>, and <a class="el" href="AnnotationDetails_8h_source.html#l00040">circt::firrtl::omirTrackerAnnoClass</a>.</p>

<p class="reference">Referenced by <a class="el" href="EmitOMIR_8cpp_source.html#l00339">scatterOMField()</a>.</p>

</div>
</div>
<a id="a298b3d692fa224a81ba01208d18a32f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a298b3d692fa224a81ba01208d18a32f5">&#9670;&nbsp;</a></span>scatterOMNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Optional&lt;DictionaryAttr&gt; scatterOMNode </td>
          <td>(</td>
          <td class="paramtype">Attribute&#160;</td>
          <td class="paramname"><em>original</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Attribute&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ApplyState &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert an Object Model Node to an optional dictionary, convert source locator strings to location attributes, and scatter FIRRTL targets into the circuit. </p>
<p>If this is an illegal Object Model Node, then return None.</p>
<p>An Object Model Node is expected to look like:</p>
<ul>
<li>"info": Source Locator String</li>
<li>"id": String-encoded integer ('OMID' ':' Integer)</li>
<li>"fields": Array&lt;Object&gt;</li>
</ul>
<p>The "fields" member may be absent. If so, then construct an empty array. </p>
<p>The input attribute must be a dictionary.</p>

<p class="definition">Definition at line <a class="el" href="EmitOMIR_8cpp_source.html#l00405">405</a> of file <a class="el" href="EmitOMIR_8cpp_source.html">EmitOMIR.cpp</a>.</p>

<p class="reference">References <a class="el" href="CalyxOps_8cpp_source.html#l00039">circt::calyx::direction::get()</a>, <a class="el" href="namespacecirct_1_1firrtl.html#a9537a2b7f366f94a7a70b5d4ca0d8947">circt::firrtl::maybeStringToLocation()</a>, <a class="el" href="AnnotationDetails_8h_source.html#l00036">circt::firrtl::omirAnnoClass</a>, and <a class="el" href="EmitOMIR_8cpp_source.html#l00339">scatterOMField()</a>.</p>

<p class="reference">Referenced by <a class="el" href="EmitOMIR_8cpp_source.html#l00476">circt::firrtl::applyOMIR()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jul 9 2022 00:24:03 for CIRCT by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
