<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CIRCT: ModuleInternalNameSanitizer Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CIRCT
   &#160;<span id="projectnumber">19.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="structModuleInternalNameSanitizer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ModuleInternalNameSanitizer Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Psuedo-reduction that sanitizes the names of things inside modules.  
 <a href="structModuleInternalNameSanitizer.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for ModuleInternalNameSanitizer:</div>
<div class="dyncontent">
<div class="center"><img src="structModuleInternalNameSanitizer__inherit__graph.png" border="0" usemap="#aModuleInternalNameSanitizer_inherit__map" alt="Inheritance graph"/></div>
<map name="aModuleInternalNameSanitizer_inherit__map" id="aModuleInternalNameSanitizer_inherit__map">
<area shape="rect" title="Psuedo&#45;reduction that sanitizes the names of things inside modules." alt="" coords="5,80,221,107"/>
<area shape="rect" href="structcirct_1_1Reduction.html" title="An abstract reduction pattern." alt="" coords="52,5,175,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ModuleInternalNameSanitizer:</div>
<div class="dyncontent">
<div class="center"><img src="structModuleInternalNameSanitizer__coll__graph.png" border="0" usemap="#aModuleInternalNameSanitizer_coll__map" alt="Collaboration graph"/></div>
<map name="aModuleInternalNameSanitizer_coll__map" id="aModuleInternalNameSanitizer_coll__map">
<area shape="rect" title="Psuedo&#45;reduction that sanitizes the names of things inside modules." alt="" coords="5,171,221,197"/>
<area shape="rect" href="structcirct_1_1Reduction.html" title="An abstract reduction pattern." alt="" coords="52,95,175,121"/>
<area shape="rect" title=" " alt="" coords="6,5,221,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6bb3c2fe3a090b8deab04968daec562c"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structModuleInternalNameSanitizer.html#a6bb3c2fe3a090b8deab04968daec562c">match</a> (Operation *op) override</td></tr>
<tr class="memdesc:a6bb3c2fe3a090b8deab04968daec562c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the reduction can apply to a specific operation.  <a href="structModuleInternalNameSanitizer.html#a6bb3c2fe3a090b8deab04968daec562c">More...</a><br /></td></tr>
<tr class="separator:a6bb3c2fe3a090b8deab04968daec562c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded978b3ad8685e38b550681cebec4f1"><td class="memItemLeft" align="right" valign="top">LogicalResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structModuleInternalNameSanitizer.html#aded978b3ad8685e38b550681cebec4f1">rewrite</a> (Operation *op) override</td></tr>
<tr class="memdesc:aded978b3ad8685e38b550681cebec4f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the reduction to a specific operation.  <a href="structModuleInternalNameSanitizer.html#aded978b3ad8685e38b550681cebec4f1">More...</a><br /></td></tr>
<tr class="separator:aded978b3ad8685e38b550681cebec4f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae479a534c559d216f6286afb8ad87358"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structModuleInternalNameSanitizer.html#ae479a534c559d216f6286afb8ad87358">getName</a> () const override</td></tr>
<tr class="memdesc:ae479a534c559d216f6286afb8ad87358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a human-readable name for this reduction pattern.  <a href="structModuleInternalNameSanitizer.html#ae479a534c559d216f6286afb8ad87358">More...</a><br /></td></tr>
<tr class="separator:ae479a534c559d216f6286afb8ad87358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e6533688461df5918b83289350ee3d1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structModuleInternalNameSanitizer.html#a1e6533688461df5918b83289350ee3d1">acceptSizeIncrease</a> () const override</td></tr>
<tr class="memdesc:a1e6533688461df5918b83289350ee3d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the tool should accept the transformation this reduction performs on the module even if the overall size of the output increases.  <a href="structModuleInternalNameSanitizer.html#a1e6533688461df5918b83289350ee3d1">More...</a><br /></td></tr>
<tr class="separator:a1e6533688461df5918b83289350ee3d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeee0c3b2b13ba0897dcff34f85139329"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structModuleInternalNameSanitizer.html#aeee0c3b2b13ba0897dcff34f85139329">isOneShot</a> () const override</td></tr>
<tr class="memdesc:aeee0c3b2b13ba0897dcff34f85139329"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the tool should not try to reapply this reduction after it has been successful.  <a href="structModuleInternalNameSanitizer.html#aeee0c3b2b13ba0897dcff34f85139329">More...</a><br /></td></tr>
<tr class="separator:aeee0c3b2b13ba0897dcff34f85139329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_structcirct_1_1Reduction"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_structcirct_1_1Reduction')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="structcirct_1_1Reduction.html">circt::Reduction</a></td></tr>
<tr class="memitem:aac9bf878ec6c195f30daed7d59c63adb inherit pub_methods_structcirct_1_1Reduction"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcirct_1_1Reduction.html#aac9bf878ec6c195f30daed7d59c63adb">~Reduction</a> ()</td></tr>
<tr class="separator:aac9bf878ec6c195f30daed7d59c63adb inherit pub_methods_structcirct_1_1Reduction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af703f5785b55b542d97446f08f9cbbcb inherit pub_methods_structcirct_1_1Reduction"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcirct_1_1Reduction.html#af703f5785b55b542d97446f08f9cbbcb">beforeReduction</a> (mlir::ModuleOp)</td></tr>
<tr class="memdesc:af703f5785b55b542d97446f08f9cbbcb inherit pub_methods_structcirct_1_1Reduction"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called before the reduction is applied to a new subset of operations.  <a href="structcirct_1_1Reduction.html#af703f5785b55b542d97446f08f9cbbcb">More...</a><br /></td></tr>
<tr class="separator:af703f5785b55b542d97446f08f9cbbcb inherit pub_methods_structcirct_1_1Reduction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a336e1151adcdee81ff53c208f5068456 inherit pub_methods_structcirct_1_1Reduction"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcirct_1_1Reduction.html#a336e1151adcdee81ff53c208f5068456">afterReduction</a> (mlir::ModuleOp)</td></tr>
<tr class="memdesc:a336e1151adcdee81ff53c208f5068456 inherit pub_methods_structcirct_1_1Reduction"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after the reduction has been applied to a subset of operations.  <a href="structcirct_1_1Reduction.html#a336e1151adcdee81ff53c208f5068456">More...</a><br /></td></tr>
<tr class="separator:a336e1151adcdee81ff53c208f5068456 inherit pub_methods_structcirct_1_1Reduction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae432906dd84177aab0dbd9e6945b9fd inherit pub_methods_structcirct_1_1Reduction"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcirct_1_1Reduction.html#aae432906dd84177aab0dbd9e6945b9fd">notifyOpErased</a> (Operation *op)</td></tr>
<tr class="separator:aae432906dd84177aab0dbd9e6945b9fd inherit pub_methods_structcirct_1_1Reduction"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_structcirct_1_1Reduction"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_structcirct_1_1Reduction')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="structcirct_1_1Reduction.html">circt::Reduction</a></td></tr>
<tr class="memitem:a35412661b6762cc2a72a10c97b8033d9 inherit pub_attribs_structcirct_1_1Reduction"><td class="memItemLeft" align="right" valign="top">std::function&lt; void(Operation *)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcirct_1_1Reduction.html#a35412661b6762cc2a72a10c97b8033d9">notifyOpErasedCallback</a> = nullptr</td></tr>
<tr class="memdesc:a35412661b6762cc2a72a10c97b8033d9 inherit pub_attribs_structcirct_1_1Reduction"><td class="mdescLeft">&#160;</td><td class="mdescRight">An optional callback for reductions to communicate removal of operations.  <a href="structcirct_1_1Reduction.html#a35412661b6762cc2a72a10c97b8033d9">More...</a><br /></td></tr>
<tr class="separator:a35412661b6762cc2a72a10c97b8033d9 inherit pub_attribs_structcirct_1_1Reduction"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Psuedo-reduction that sanitizes the names of things inside modules. </p>
<p>This is not an actual reduction, but often removes extraneous information that has no bearing on the actual reduction (and would likely be removed before sharing the reduction). This makes the following changes:</p>
<ul>
<li>All wires are renamed to "wire"</li>
<li>All registers are renamed to "reg"</li>
<li>All nodes are renamed to "node"</li>
<li>All memories are renamed to "mem"</li>
<li>All verification messages and labels are dropped </li>
</ul>

<p class="definition">Definition at line <a class="el" href="FIRRTLReductions_8cpp_source.html#l00957">957</a> of file <a class="el" href="FIRRTLReductions_8cpp_source.html">FIRRTLReductions.cpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a1e6533688461df5918b83289350ee3d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e6533688461df5918b83289350ee3d1">&#9670;&nbsp;</a></span>acceptSizeIncrease()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ModuleInternalNameSanitizer::acceptSizeIncrease </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if the tool should accept the transformation this reduction performs on the module even if the overall size of the output increases. </p>
<p>This can be handy for patterns that reduce the complexity of the IR at the cost of some verbosity. </p>

<p>Reimplemented from <a class="el" href="structcirct_1_1Reduction.html#a619b4a845307a5b6bf1de9f70fc67959">circt::Reduction</a>.</p>

<p class="definition">Definition at line <a class="el" href="FIRRTLReductions_8cpp_source.html#l00984">984</a> of file <a class="el" href="FIRRTLReductions_8cpp_source.html">FIRRTLReductions.cpp</a>.</p>

</div>
</div>
<a id="ae479a534c559d216f6286afb8ad87358"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae479a534c559d216f6286afb8ad87358">&#9670;&nbsp;</a></span>getName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string ModuleInternalNameSanitizer::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a human-readable name for this reduction pattern. </p>

<p>Implements <a class="el" href="structcirct_1_1Reduction.html#ac4a4f10cdd1464efbe6c0109346ff995">circt::Reduction</a>.</p>

<p class="definition">Definition at line <a class="el" href="FIRRTLReductions_8cpp_source.html#l00980">980</a> of file <a class="el" href="FIRRTLReductions_8cpp_source.html">FIRRTLReductions.cpp</a>.</p>

</div>
</div>
<a id="aeee0c3b2b13ba0897dcff34f85139329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeee0c3b2b13ba0897dcff34f85139329">&#9670;&nbsp;</a></span>isOneShot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ModuleInternalNameSanitizer::isOneShot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if the tool should not try to reapply this reduction after it has been successful. </p>
<p>This is useful for reductions whose <code><a class="el" href="structModuleInternalNameSanitizer.html#a6bb3c2fe3a090b8deab04968daec562c" title="Check if the reduction can apply to a specific operation.">match()</a></code> function keeps returning true even after the reduction has reached a fixed-point and no longer performs any change. An example of this are reductions that apply a lowering pass which always applies but may leave the input unmodified.</p>
<p>This is mainly useful in conjunction with returning true from <code><a class="el" href="structModuleInternalNameSanitizer.html#a1e6533688461df5918b83289350ee3d1" title="Return true if the tool should accept the transformation this reduction performs on the module even i...">acceptSizeIncrease()</a></code>. For reductions that don't accept an increase, the module size has to decrease for them to be considered useful, which prevents the tool from getting stuck at a local point where the reduction applies but produces no change in the input. However, reductions that <em>do</em> accept a size increase can get stuck in this local fixed-point as they keep applying to the same operations and the tool keeps accepting the unmodified input as an improvement. </p>

<p>Reimplemented from <a class="el" href="structcirct_1_1Reduction.html#a854ef07bccc7d8ff3abaae339fe90070">circt::Reduction</a>.</p>

<p class="definition">Definition at line <a class="el" href="FIRRTLReductions_8cpp_source.html#l00986">986</a> of file <a class="el" href="FIRRTLReductions_8cpp_source.html">FIRRTLReductions.cpp</a>.</p>

</div>
</div>
<a id="a6bb3c2fe3a090b8deab04968daec562c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bb3c2fe3a090b8deab04968daec562c">&#9670;&nbsp;</a></span>match()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t ModuleInternalNameSanitizer::match </td>
          <td>(</td>
          <td class="paramtype">Operation *&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the reduction can apply to a specific operation. </p>
<p>Returns a benefit measure where a higher number means that applying the pattern leads to a bigger reduction and zero means that the patten does not match and thus cannot be applied at all. </p>

<p>Implements <a class="el" href="structcirct_1_1Reduction.html#a1b0e1b52ef276f3c89011357fdca0efb">circt::Reduction</a>.</p>

<p class="definition">Definition at line <a class="el" href="FIRRTLReductions_8cpp_source.html#l00958">958</a> of file <a class="el" href="FIRRTLReductions_8cpp_source.html">FIRRTLReductions.cpp</a>.</p>

</div>
</div>
<a id="aded978b3ad8685e38b550681cebec4f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded978b3ad8685e38b550681cebec4f1">&#9670;&nbsp;</a></span>rewrite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LogicalResult ModuleInternalNameSanitizer::rewrite </td>
          <td>(</td>
          <td class="paramtype">Operation *&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply the reduction to a specific operation. </p>
<p>If the returned result indicates that the application failed, the resulting module is treated the same as if the tester marked it as uninteresting. </p>

<p>Implements <a class="el" href="structcirct_1_1Reduction.html#a84870ea819e4855f021e800e4c2ecf61">circt::Reduction</a>.</p>

<p class="definition">Definition at line <a class="el" href="FIRRTLReductions_8cpp_source.html#l00965">965</a> of file <a class="el" href="FIRRTLReductions_8cpp_source.html">FIRRTLReductions.cpp</a>.</p>

<p class="reference">References <a class="el" href="CalyxOps_8cpp_source.html#l00054">circt::calyx::direction::get()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/runner/work/circt-www/circt-www/circt_src/lib/Dialect/FIRRTL/<a class="el" href="FIRRTLReductions_8cpp_source.html">FIRRTLReductions.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 28 2024 00:06:56 for CIRCT by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
